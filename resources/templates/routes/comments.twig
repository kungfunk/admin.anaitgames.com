{% extends '/shared/layout.twig' %}

{% block title %}Comentarios{% endblock %}

{% block content %}
    <div class="main__container">
        <section class="statistics">
            <div class="statistics-box">
                <h3 class="statistics-box__big-number">0
                    <sup class="statistics-box__small-number statistics-box__small-number--color-positive">(0)</sup>
                </h3>
                <span class="statistics-box__sub-text">Publicados hoy</span>
            </div>
            <div class="statistics-box">
                <h3 class="statistics-box__big-number">0
                    <sup class="statistics-box__small-number statistics-box__small-number--color-positive">(0)</sup>
                </h3>
                <span class="statistics-box__sub-text">Publicados esta semana</span>
            </div>
            <div class="statistics-box">
                <h3 class="statistics-box__big-number">0
                    <sup class="statistics-box__small-number statistics-box__small-number--color-negative">(0)</sup>
                </h3>
                <span class="statistics-box__sub-text">Publicados este mes</span>
            </div>
        </section>
        <div class="layout__results">
            <div class="box">
                <div class="box__header">
                    <h3 class="box__title">Mostrando {{ comments.count() }} de {{ comments.total() }} resultados</h3>
                    <div class="box__action">
                        <a href="" class="button">
                            <svg class="button__icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                            Busqueda avanzada
                        </a>
                    </div>
                </div>
                <div class="box__body">
                    <table class="datatable">
                        <thead class="datatable__header">
                        <tr class="datatable__row">
                            <td class="datatable__cell datatable__cell--medium">
                                <a class="datatable__link" href="">Usuario</a>
                            </td>
                            <td class="datatable__cell datatable__cell--long">
                                <a class="datatable__link" href="">Post</a>
                            </td>
                            <td class="datatable__cell">
                                <a class="datatable__link" href="">Texto</a>
                            </td>
                            <td class="datatable__cell">
                                <a class="datatable__link" href="">Reportes</a>
                            </td>
                            <td class="datatable__cell">
                                <a class="datatable__link" href="">Editado</a>
                            </td>
                            <td class="datatable__cell">
                                <a class="datatable__link" href="">Creado
                                    <svg class="datatable__sort-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                         stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </a>
                            </td>
                        </tr>
                        </thead>
                        <tbody>
                        {% for comment in comments %}
                            <tr class="datatable__row">
                                <td class="datatable__cell">
                                    <a class="datatable__link" href="{{ path_for('user', { 'id': comment.user.id }) }}">{{ comment.user.name }}</a>
                                </td>
                                <td class="datatable__cell">
                                    <a class="datatable__link" href="{{ path_for('post', { 'id': comment.post.id }) }}">{{ comment.post.title }}</a>
                                </td>
                                <td class="datatable__cell">
                                    <a class="datatable__link" href="{{ path_for('comment', { 'id': comment.id }) }}">{{ comment.body }}</a>
                                </td>
                                <td class="datatable__cell">{{ comment.reports_count }}</td>
                                <td class="datatable__cell">{% if comment.isEdited() %}Si{% else %}No{% endif %}</td>
                                <td class="datatable__cell">{{ comment.created_at }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="box__footer">
                    {{ include('components/pagination.twig', { 'pagination': comments }, with_context = false) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
